<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Index - Boutons Utilisateur</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <style>
        button {
            display: flex;
            align-items: center;
            padding: 10px 20px;
            border: none;
            outline: none;
            cursor: pointer;
            font-size: 25px;
            margin: 10px;
        }

        .green-icon {
            color: green;
        }

        .red-icon {
            color: red;
        }
    </style>
</head>
<body>

    <!-- Boutons noirs -->
    <button id="btn-black1" class="btn-black">
        <i class="fas fa-user"></i>
    </button>
    <button id="btn-black2" class="btn-black">
        <i class="fas fa-user"></i>
    </button>
    <button id="btn-black3" class="btn-black">
        <i class="fas fa-user"></i>
    </button>
    <button id="btn-black4" class="btn-black">
        <i class="fas fa-user"></i>
    </button>

    <!-- Lien vers screen.html -->
    <a id="goToScreen" href="screen.html">Voir les boutons verts</a>

    <script>
        // Fonction pour gérer les clics sur les boutons noirs
        const btnBlack = document.querySelectorAll(".btn-black");

        btnBlack.forEach((button, index) => {
            button.addEventListener("click", () => {
                // Mettre à jour l'état du bouton vert correspondant dans l'URL
                const greenButtonIndex = index + 1; // Calcul de l'index pour le bouton vert
                const currentState = new URLSearchParams(window.location.search).get(`btn-green${greenButtonIndex}`);

                // Si l'icône est verte, la passer à rouge, sinon la remettre en vert
                const newState = currentState === "green" ? "red" : "green";

                // Ajouter ou modifier le paramètre d'URL
                const currentParams = new URLSearchParams(window.location.search);
                currentParams.set(`btn-green${greenButtonIndex}`, newState);
                document.getElementById("goToScreen").href = "screen.html?" + currentParams.toString(); // Mettre à jour le lien vers screen.html

                // Débogage pour vérifier l'URL
                console.log("URL mise à jour :", window.location.href);
            });
        });
    </script>

</body>
</html>
